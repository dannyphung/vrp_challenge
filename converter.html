/*
 * This is a JavaScript Scratchpad.
 *
 * Enter some JavaScript, then Right Click or choose from the Execute Menu:
 * 1. Run to evaluate the selected text (Ctrl+R),
 * 2. Inspect to bring up an Object Inspector on the result (Ctrl+I), or,
 * 3. Display to insert the result in a comment after the selection. (Ctrl+L)
 */

//request pass here
request={depot:[1,-1],customer_demands:[2,1,3,9,13,21,6,22,10,23,2,15,10,23,8,5,14,6,15,18,15,10,17,1,1,18,7,12,9,26,60,12,17,9,7,13,24,10,17,24,25,1,20,14,6,9,11,2,11,17,3,1,8,12,9,13],customer_locations:[[37,61],[77,81],[35,21],[1,93],[21,39],[63,7],[97,95],[3,7],[5,3],[36,22],[64,10],[6,8],[24,40],[86,82],[68,14],[28,46],[10,8],[8,14],[10,10],[104,104],[38,24],[80,82],[22,46],[26,40],[4,10],[10,12],[26,44],[4,10],[4,98],[78,82],[64,8],[98,98],[24,40],[10,8],[8,96],[8,8],[84,90],[8,8],[86,86],[6,94],[10,10],[80,82],[102,96],[36,26],[44,28],[22,46],[100,100],[28,42],[30,40],[78,84],[10,4],[78,84],[6,8],[10,94],[40,66],[10,16]]};

//response pass here
route ={routes:[[8,7,11,55,17,25,18],[24,52,35,40,16,37,33,50,27,2],[9,20,43,44,48,23,12,47,15,26],[4,32,22,54,0,45,53,34],[5,30,10,14,1],[3,39,28,36,38],[29,21,49,51,41,13,6,31],[42,46,19]]};


/**
 * random color
 */
!function(a,b){if("function"==typeof define&&define.amd)define([],b);else if("object"==typeof exports){var c=b();"object"==typeof module&&module&&module.exports&&(exports=module.exports=c),exports.randomColor=c}else a.randomColor=b()}(this,function(){function d(a){var b=i(a.hue),c=l(b);return c<0&&(c=360+c),c}function e(a,b){if("random"===b.luminosity)return l([0,100]);if("monochrome"===b.hue)return 0;var c=j(a),d=c[0],e=c[1];switch(b.luminosity){case"bright":d=55;break;case"dark":d=e-10;break;case"light":e=55}return l([d,e])}function f(a,b,c){var d=h(a,b),e=100;switch(c.luminosity){case"dark":e=d+20;break;case"light":d=(e+d)/2;break;case"random":d=0,e=100}return l([d,e])}function g(a,b){switch(b.format){case"hsvArray":return a;case"hslArray":return q(a);case"hsl":var c=q(a);return"hsl("+c[0]+", "+c[1]+"%, "+c[2]+"%)";case"hsla":var d=q(a),e=b.alpha||Math.random();return"hsla("+d[0]+", "+d[1]+"%, "+d[2]+"%, "+e+")";case"rgbArray":return p(a);case"rgb":var f=p(a);return"rgb("+f.join(", ")+")";case"rgba":var g=p(a),e=b.alpha||Math.random();return"rgba("+g.join(", ")+", "+e+")";default:return m(a)}}function h(a,b){for(var c=k(a).lowerBounds,d=0;d<c.length-1;d++){var e=c[d][0],f=c[d][1],g=c[d+1][0],h=c[d+1][1];if(b>=e&&b<=g){var i=(h-f)/(g-e),j=f-i*e;return i*b+j}}return 0}function i(a){if("number"==typeof parseInt(a)){var c=parseInt(a);if(c<360&&c>0)return[c,c]}if("string"==typeof a&&b[a]){var d=b[a];if(d.hueRange)return d.hueRange}return[0,360]}function j(a){return k(a).saturationRange}function k(a){a>=334&&a<=360&&(a-=360);for(var c in b){var d=b[c];if(d.hueRange&&a>=d.hueRange[0]&&a<=d.hueRange[1])return b[c]}return"Color not found"}function l(b){if(null===a)return Math.floor(b[0]+Math.random()*(b[1]+1-b[0]));var c=b[1]||1,d=b[0]||0;a=(9301*a+49297)%233280;var e=a/233280;return Math.floor(d+e*(c-d))}function m(a){function c(a){var b=a.toString(16);return 1==b.length?"0"+b:b}var b=p(a),d="#"+c(b[0])+c(b[1])+c(b[2]);return d}function n(a,c,d){var e=d[0][0],f=d[d.length-1][0],g=d[d.length-1][1],h=d[0][1];b[a]={hueRange:c,lowerBounds:d,saturationRange:[e,f],brightnessRange:[g,h]}}function o(){n("monochrome",null,[[0,0],[100,0]]),n("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),n("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),n("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),n("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),n("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),n("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),n("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function p(a){var b=a[0];0===b&&(b=1),360===b&&(b=359),b/=360;var c=a[1]/100,d=a[2]/100,e=Math.floor(6*b),f=6*b-e,g=d*(1-c),h=d*(1-f*c),i=d*(1-(1-f)*c),j=256,k=256,l=256;switch(e){case 0:j=d,k=i,l=g;break;case 1:j=h,k=d,l=g;break;case 2:j=g,k=d,l=i;break;case 3:j=g,k=h,l=d;break;case 4:j=i,k=g,l=d;break;case 5:j=d,k=g,l=h}var m=[Math.floor(255*j),Math.floor(255*k),Math.floor(255*l)];return m}function q(a){var b=a[0],c=a[1]/100,d=a[2]/100,e=(2-c)*d;return[b,Math.round(c*d/(e<1?e:2-e)*1e4)/100,e/2*100]}function r(a){for(var b=0,c=0;c!==a.length&&!(b>=Number.MAX_SAFE_INTEGER);c++)b+=a.charCodeAt(c);return b}var a=null,b={};o();var c=function(b){if(b=b||{},void 0!==b.seed&&null!==b.seed&&b.seed===parseInt(b.seed,10))a=b.seed;else if("string"==typeof b.seed)a=r(b.seed);else{if(void 0!==b.seed&&null!==b.seed)throw new TypeError("The seed value must be an integer or string");a=null}var h,i,j;if(null!==b.count&&void 0!==b.count){var k=b.count,l=[];for(b.count=null;k>l.length;)a&&b.seed&&(b.seed+=1),l.push(c(b));return b.count=k,l}return h=d(b),i=e(h,b),j=f(h,i,b),g([h,i,j],b)};return c});
/**
 * end random color 
 */


var nodes=[];
nodes.push({id: 'depot',label:'depot', x:request.depot[0],y:request.depot[1],size:100})

edges=[]


for(i in route.routes){
  source='depot';
  current_route=route.routes[i];
  pathColor= randomColor();
  for(j in current_route){
    var indx=current_route[j]
    x=  d.customer_locations[indx][0];
  y=  d.customer_locations[indx][1];
  size=d.customer_demands[indx];
   nodes.push({id: 'n'+indx,x:x,y:y,size:size, color:pathColor,label:'customer'+indx})
    edges.push(
       {
      "id": "e"+edges.length,
      "source": source,
      "target": "n"+current_route[j]
    });
    source="n"+current_route[j];
      }
}
dat=JSON.stringify({nodes:nodes,edges:edges})